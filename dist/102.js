"use strict";(globalThis.webpackChunkblock_revealer=globalThis.webpackChunkblock_revealer||[]).push([[102,841,643],{87:(t,e,o)=>{o.d(e,{QZ:()=>m,vP:()=>d});var i=Symbol.for("preact-signals");function r(){if(a>1)a--;else{for(var t,e=!1;void 0!==s;){var o=s;for(s=void 0,l++;void 0!==o;){var i=o.o;if(o.o=void 0,o.f&=-3,!(8&o.f)&&v(o))try{o.c()}catch(o){e||(t=o,e=!0)}o=i}}if(l=0,a--,e)throw t}}var n=void 0,s=void 0,a=0,l=0,u=0;function c(t){if(void 0!==n){var e=t.n;if(void 0===e||e.t!==n)return e={i:0,S:t,p:n.s,n:void 0,t:n,e:void 0,x:void 0,r:e},void 0!==n.s&&(n.s.n=e),n.s=e,t.n=e,32&n.f&&t.S(e),e;if(-1===e.i)return e.i=0,void 0!==e.n&&(e.n.p=e.p,void 0!==e.p&&(e.p.n=e.n),e.p=n.s,e.n=void 0,n.s.n=e,n.s=e),e}}function f(t){this.v=t,this.i=0,this.n=void 0,this.t=void 0}function d(t){return new f(t)}function v(t){for(var e=t.s;void 0!==e;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function h(t){for(var e=t.s;void 0!==e;e=e.n){var o=e.S.n;if(void 0!==o&&(e.r=o),e.S.n=e,e.i=-1,void 0===e.n){t.s=e;break}}}function p(t){for(var e=t.s,o=void 0;void 0!==e;){var i=e.p;-1===e.i?(e.S.U(e),void 0!==i&&(i.n=e.n),void 0!==e.n&&(e.n.p=i)):o=e,e.S.n=e.r,void 0!==e.r&&(e.r=void 0),e=i}t.s=o}function y(t){f.call(this,void 0),this.x=t,this.s=void 0,this.g=u-1,this.f=4}function b(t){var e=t.u;if(t.u=void 0,"function"==typeof e){a++;var o=n;n=void 0;try{e()}catch(e){throw t.f&=-2,t.f|=8,S(t),e}finally{n=o,r()}}}function S(t){for(var e=t.s;void 0!==e;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,b(t)}function g(t){if(n!==this)throw new Error("Out-of-order effect");p(this),n=t,this.f&=-2,8&this.f&&S(this),r()}function w(t){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}function m(t){var e=new w(t);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}f.prototype.brand=i,f.prototype.h=function(){return!0},f.prototype.S=function(t){this.t!==t&&void 0===t.e&&(t.x=this.t,void 0!==this.t&&(this.t.e=t),this.t=t)},f.prototype.U=function(t){if(void 0!==this.t){var e=t.e,o=t.x;void 0!==e&&(e.x=o,t.e=void 0),void 0!==o&&(o.e=e,t.x=void 0),t===this.t&&(this.t=o)}},f.prototype.subscribe=function(t){var e=this;return m((function(){var o=e.value,i=n;n=void 0;try{t(o)}finally{n=i}}))},f.prototype.valueOf=function(){return this.value},f.prototype.toString=function(){return this.value+""},f.prototype.toJSON=function(){return this.value},f.prototype.peek=function(){var t=n;n=void 0;try{return this.value}finally{n=t}},Object.defineProperty(f.prototype,"value",{get:function(){var t=c(this);return void 0!==t&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(l>100)throw new Error("Cycle detected");this.v=t,this.i++,u++,a++;try{for(var e=this.t;void 0!==e;e=e.x)e.t.N()}finally{r()}}}}),(y.prototype=new f).h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===u)return!0;if(this.g=u,this.f|=1,this.i>0&&!v(this))return this.f&=-2,!0;var t=n;try{h(this),n=this;var e=this.x();(16&this.f||this.v!==e||0===this.i)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return n=t,p(this),this.f&=-2,!0},y.prototype.S=function(t){if(void 0===this.t){this.f|=36;for(var e=this.s;void 0!==e;e=e.n)e.S.S(e)}f.prototype.S.call(this,t)},y.prototype.U=function(t){if(void 0!==this.t&&(f.prototype.U.call(this,t),void 0===this.t)){this.f&=-33;for(var e=this.s;void 0!==e;e=e.n)e.S.U(e)}},y.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;void 0!==t;t=t.x)t.t.N()}},Object.defineProperty(y.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=c(this);if(this.h(),void 0!==t&&(t.i=this.i),16&this.f)throw this.v;return this.v}}),w.prototype.c=function(){var t=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var e=this.x();"function"==typeof e&&(this.u=e)}finally{t()}},w.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,b(this),h(this),a++;var t=n;return n=this,g.bind(this,t)},w.prototype.N=function(){2&this.f||(this.f|=2,this.o=s,s=this)},w.prototype.d=function(){this.f|=8,1&this.f||S(this)};var E=o(609),C=o(888);o(848),o(446),new Map;var _,k=Symbol.for("react.element"),R=function(){},O=Symbol.dispose||Symbol.for("Symbol.dispose");function x(t,e){var o=e.effect.S();return _=e,N.bind(e,t,o)}function N(t,e){e(),_=t}({u:0,effect:{s:void 0,c:function(){},S:function(){return R},d:function(){}},subscribe:function(){return R},getSnapshot:function(){return 0},S:function(){},f:function(){}})[O]=function(){};var P,I=Promise.prototype.then.bind(Promise.resolve());Object.defineProperties(f.prototype,{$$typeof:{configurable:!0,value:k},type:{configurable:!0,value:function(t){var e=t.data,o=function(t){void 0===t&&(t=0),P||(P=I((function(){var t;P=void 0,null==(t=_)||t.f()})));var e=(0,E.useRef)();null==e.current&&(e.current=function(t){var e,o,i,r,n=0,s=m((function(){o=this}));return o.c=function(){n=n+1|0,r&&r()},(e={u:t,effect:o,subscribe:function(t){return r=t,function(){n=n+1|0,r=void 0,s()}},getSnapshot:function(){return n},S:function(){if(null!=_){var t=_.u,e=this.u;0==t&&0==e||0==t&&1==e?(_.f(),i=x(void 0,this)):1==t&&0==e||2==t&&0==e||(i=x(_,this))}else i=x(void 0,this)},f:function(){null==i||i(),i=void 0}})[O]=function(){this.f()},e}(t));var o=e.current;return(0,C.useSyncExternalStore)(o.subscribe,o.getSnapshot,o.getSnapshot),o.S(),o}(1);try{return e.value}finally{o.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}})},784:(t,e,o)=>{o.d(e,{A:()=>i});class i{constructor(){this.colors={blue:"#1989c1",white:"#b1b1b1",black:"#444343"}}getColors(){return Object.values(this.colors)}findColor(t){let e=this.colors;return Object.keys(e).forEach((o=>{if(t===e[o])return o})),""}}},841:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var i=o(784),r=o(196);class n{constructor(){this.bodyNodes=this.getBodyNodes()}init({reveal:t=!1,color:e="blue"}){this.setPluginClass("wp-block-revealer"),this.setColor(e),this.setReveal(t),this.bodyNodeObserver(),this.storage=new r.A,this.colors=new i.A}getBodyNodes(){let t=[],e=this.domBody();return t.push(e),document.body!==e&&t.push(document.body),t}getBody(){return this.domBody()}isPostEditorIframe(){return!document.querySelector(".block-editor-writing-flow")}isSiteEditor(){return!!document.querySelector(".edit-site-visual-editor")}domBody(){let t=null,e=this.isPostEditorIframe()?document.querySelector('iframe[name="editor-canvas"]'):document.querySelector(".block-editor-writing-flow");return e&&this.isPostEditorIframe()&&(t=e.contentWindow.document.body),this.isSiteEditor()&&(e=document.querySelector('iframe[name="editor-canvas"]'),t=e.contentWindow.document.body),!e||this.isPostEditorIframe()||this.isSiteEditor()||(t=document.querySelector("body")),t}setPluginClass(t){this.bodyNodes.forEach((e=>{e.classList.add(t)}))}removePluginClass(t){this.bodyNodes.forEach((e=>{e.classList.remove(t)}))}setColor(t){t||(t="blue"),this.bodyNodes.forEach((e=>{e.style.setProperty("--wpbr--editor--shadow--color","var( --wpbr--color--"+t+" )"),e.style.setProperty("--wpbr--editor--shadow--color-hover","var( --wpbr--color--"+t+"-hover )")}))}setReveal(t){this.bodyNodes.forEach((e=>{t?e.classList.add("wp-block-revealer--reveal"):e.classList.remove("wp-block-revealer--reveal")}))}bodyNodeObserver(){let t=this.domBody();t&&new MutationObserver(((t,e)=>{for(let e of t)if("attributes"===e.type&&"class"===e.attributeName){let t=getComputedStyle(e.target).getPropertyValue("--wpbr--editor--shadow--color");this.colors.findColor(t)!==this.storage.getColor()&&this.setColor(this.storage.getColor()),!0!==this.storage.getReveal()||e.target.classList.contains("wp-block-revealer--reveal")||this.setReveal(this.storage.getReveal()),!1===this.storage.getReveal()&&e.target.classList.contains("wp-block-revealer--reveal")&&this.setReveal(this.storage.getReveal())}})).observe(t,{attributes:!0,childList:!1,subtree:!1})}keepChildAlive(t,e){setInterval((()=>{let o=null,i=document.querySelector(t);i&&(o=i.querySelector("#block-revealer-root")),o||i.appendChild(e)}),1200)}}},643:(t,e,o)=>{o.d(e,{GlobalSignalColor:()=>s,GlobalSignalReveal:()=>n});var i=o(87);const r=new(o(196).A),n=(0,i.vP)(r.getReveal()),s=(0,i.vP)(r.getColor())},102:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});var i=o(841),r=o(643);class n{constructor(){}bind(){let t=new i.default;[].forEach.call(t.getBodyNodes(),(t=>{t.addEventListener("keydown",(t=>{t.ctrlKey&&t.altKey&&82===t.keyCode&&(r.GlobalSignalReveal.value=!r.GlobalSignalReveal.value)}))})),document.body!==t.getBody()&&document.addEventListener("keydown",(t=>{t.ctrlKey&&t.altKey&&82===t.keyCode&&(r.GlobalSignalReveal.value=!r.GlobalSignalReveal.value)}))}}},196:(t,e,o)=>{o.d(e,{A:()=>r});var i=o(784);class r{constructor(){}getColor(){return null===window.localStorage.getItem("wpbr_options__color")?"blue":window.localStorage.getItem("wpbr_options__color")}getReveal(){return"true"===window.localStorage.getItem("wpbr_options__reveal")}setColor(t){(new i.A).getColors().indexOf(t)>-1&&(t="blue"),window.localStorage.setItem("wpbr_options__color",t)}setReveal(t){let e=!0===t?"true":"false";window.localStorage.setItem("wpbr_options__reveal",e)}}},286:(t,e)=>{Symbol.for("react.fragment")},20:(t,e,o)=>{var i=o(609);Symbol.for("react.element"),Symbol.for("react.fragment"),Object.prototype.hasOwnProperty,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner},446:(t,e,o)=>{o(286)},848:(t,e,o)=>{o(20)},63:(t,e,o)=>{var i=o(609),r="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},n=i.useState,s=i.useEffect,a=i.useLayoutEffect,l=i.useDebugValue;function u(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!r(t,o)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var o=e(),i=n({inst:{value:o,getSnapshot:e}}),r=i[0].inst,c=i[1];return a((function(){r.value=o,r.getSnapshot=e,u(r)&&c({inst:r})}),[t,o,e]),s((function(){return u(r)&&c({inst:r}),t((function(){u(r)&&c({inst:r})}))}),[t]),l(o),o};e.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:c},888:(t,e,o)=>{t.exports=o(63)}}]);